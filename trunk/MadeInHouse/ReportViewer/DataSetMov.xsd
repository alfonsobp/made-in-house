<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="DataSetMov" targetNamespace="http://tempuri.org/DataSetMov.xsd" xmlns:mstns="http://tempuri.org/DataSetMov.xsd" xmlns="http://tempuri.org/DataSetMov.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Settings" AppSettingsPropertyName="inf245g4ConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="inf245g4ConnectionString (Settings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.MadeInHouse.Properties.Settings.GlobalReference.Default.inf245g4ConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="DataTable1TableAdapter" GeneratorDataComponentClassName="DataTable1TableAdapter" Name="DataTable1" UserDataComponentName="DataTable1TableAdapter">
            <MainSource>
              <DbSource ConnectionRef="inf245g4ConnectionString (Settings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT  
nis.idNota   ,
CASE nis.tipo WHEN '1' THEN 'ENTRADA' ELSE 'SALIDA' END AS tipoNota , 
nis.idAlmacen,
a.nombre as nombreAlmacen,
m.nombre as Motivo ,
p.codProducto,
p.nombre as nombreProducto,
nis.fechaReg,
pnis.cantidad

FROM
 ProductoxNotaIS pnis  
 INNER JOIN  NotaIS nis  ON pnis.idNota = nis.idNota 
 INNER JOIN MotivoIS m ON nis.idMotivo =  m.idMotivo
 INNER JOIN Producto p ON  pnis.idProducto = p.idProducto  
 INNER JOIN Almacen a ON   nis.idAlmacen = a.idAlmacen

WHERE 

nis.fechaReg &gt;= @fechaRegI and nis.fechaReg &lt;= @fechaRegF
 and nis.idAlmacen  = @idAlmacen  and  p.idProducto = @idProducto</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="fechaRegI" ColumnName="fechaReg" DataSourceName="inf245g4.Desarrollo.NotaIS" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@fechaRegI" Precision="0" ProviderType="DateTime" Scale="0" Size="8" SourceColumn="fechaReg" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="fechaRegF" ColumnName="fechaReg" DataSourceName="inf245g4.Desarrollo.NotaIS" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@fechaRegF" Precision="0" ProviderType="DateTime" Scale="0" Size="8" SourceColumn="fechaReg" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="idAlmacen" ColumnName="idAlmacen" DataSourceName="inf245g4.Desarrollo.NotaIS" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@idAlmacen" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="idAlmacen" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="idProducto" ColumnName="idProducto" DataSourceName="inf245g4.Desarrollo.Producto" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@idProducto" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="idProducto" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="idNota" DataSetColumn="idNota" />
              <Mapping SourceColumn="tipoNota" DataSetColumn="tipoNota" />
              <Mapping SourceColumn="idAlmacen" DataSetColumn="idAlmacen" />
              <Mapping SourceColumn="nombreAlmacen" DataSetColumn="nombreAlmacen" />
              <Mapping SourceColumn="Motivo" DataSetColumn="Motivo" />
              <Mapping SourceColumn="codProducto" DataSetColumn="codProducto" />
              <Mapping SourceColumn="nombreProducto" DataSetColumn="nombreProducto" />
              <Mapping SourceColumn="fechaReg" DataSetColumn="fechaReg" />
              <Mapping SourceColumn="cantidad" DataSetColumn="cantidad" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="DataSetMov" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="true" msprop:Generator_DataSetName="DataSetMov" msprop:Generator_UserDSName="DataSetMov">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="DataTable1" msprop:Generator_TableClassName="DataTable1DataTable" msprop:Generator_TableVarName="tableDataTable1" msprop:Generator_RowChangedName="DataTable1RowChanged" msprop:Generator_TablePropName="DataTable1" msprop:Generator_RowDeletingName="DataTable1RowDeleting" msprop:Generator_RowChangingName="DataTable1RowChanging" msprop:Generator_RowEvHandlerName="DataTable1RowChangeEventHandler" msprop:Generator_RowDeletedName="DataTable1RowDeleted" msprop:Generator_RowClassName="DataTable1Row" msprop:Generator_UserTableName="DataTable1" msprop:Generator_RowEvArgName="DataTable1RowChangeEvent">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="idNota" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnidNota" msprop:Generator_ColumnPropNameInRow="idNota" msprop:Generator_ColumnPropNameInTable="idNotaColumn" msprop:Generator_UserColumnName="idNota" type="xs:int" />
              <xs:element name="tipoNota" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columntipoNota" msprop:Generator_ColumnPropNameInRow="tipoNota" msprop:Generator_ColumnPropNameInTable="tipoNotaColumn" msprop:Generator_UserColumnName="tipoNota" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="7" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="idAlmacen" msprop:Generator_ColumnVarNameInTable="columnidAlmacen" msprop:Generator_ColumnPropNameInRow="idAlmacen" msprop:Generator_ColumnPropNameInTable="idAlmacenColumn" msprop:Generator_UserColumnName="idAlmacen" type="xs:int" minOccurs="0" />
              <xs:element name="nombreAlmacen" msprop:Generator_ColumnVarNameInTable="columnnombreAlmacen" msprop:Generator_ColumnPropNameInRow="nombreAlmacen" msprop:Generator_ColumnPropNameInTable="nombreAlmacenColumn" msprop:Generator_UserColumnName="nombreAlmacen" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Motivo" msprop:Generator_ColumnVarNameInTable="columnMotivo" msprop:Generator_ColumnPropNameInRow="Motivo" msprop:Generator_ColumnPropNameInTable="MotivoColumn" msprop:Generator_UserColumnName="Motivo" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="codProducto" msprop:Generator_ColumnVarNameInTable="columncodProducto" msprop:Generator_ColumnPropNameInRow="codProducto" msprop:Generator_ColumnPropNameInTable="codProductoColumn" msprop:Generator_UserColumnName="codProducto">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="nombreProducto" msprop:Generator_ColumnVarNameInTable="columnnombreProducto" msprop:Generator_ColumnPropNameInRow="nombreProducto" msprop:Generator_ColumnPropNameInTable="nombreProductoColumn" msprop:Generator_UserColumnName="nombreProducto">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="fechaReg" msprop:Generator_ColumnVarNameInTable="columnfechaReg" msprop:Generator_ColumnPropNameInRow="fechaReg" msprop:Generator_ColumnPropNameInTable="fechaRegColumn" msprop:Generator_UserColumnName="fechaReg" type="xs:dateTime" minOccurs="0" />
              <xs:element name="cantidad" msprop:Generator_ColumnVarNameInTable="columncantidad" msprop:Generator_ColumnPropNameInRow="cantidad" msprop:Generator_ColumnPropNameInTable="cantidadColumn" msprop:Generator_UserColumnName="cantidad" type="xs:int" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:DataTable1" />
      <xs:field xpath="mstns:idNota" />
    </xs:unique>
  </xs:element>
</xs:schema>